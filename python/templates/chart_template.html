{% extends "base_template.html" %}
{% block head %}
    <script type="text/javascript">

        // Load the Visualization API and the piechart package.
        google.charts.load('current', { 'packages': ['corechart'] });

        // Set a callback to run when the Google Visualization API is loaded.
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var jsonData = $.ajax({
                url: "{{json_url}}",
                dataType: "json",
                async: false
            }).responseText;
            {% block set_data %} 
            {% endblock %}

            // Instantiate and draw our chart, passing in some options.
            var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
            chart.draw(data, {height: 800, title: "{{pagetitle}}" });
        }

    </script>
{% endblock %}
{% block body %}
    <div id="chart_div"></div>
{% endblock %}
    
